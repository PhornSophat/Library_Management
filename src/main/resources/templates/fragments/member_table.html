<div th:fragment="memberContent(list)" class="overflow-x-auto">
    <table class="w-full text-left border-collapse">
        <thead>
            <tr class="text-gray-400 text-[11px] uppercase tracking-widest border-b border-gray-50">
                <th class="px-8 py-5 font-bold">Member</th>
                <th class="px-8 py-5 font-bold">Role</th>
                <th class="px-8 py-5 font-bold">Status</th>
                <th class="px-8 py-5 font-bold">Action</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-gray-50">
            <tr th:if="${list == null or #lists.isEmpty(list)}">
                <td colspan="4" class="px-8 py-10 text-center text-gray-400">No members found in database.</td>
            </tr>
            
            <tr th:each="user : ${list}" th:if="${user != null}" class="hover:bg-gray-50/80 transition-colors group">
                <td class="px-8 py-5">
                    <a th:href="@{'/members/' + ${user.id}}" class="flex items-center gap-3 group-hover:text-blue-600">
                        <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold" 
                             th:text="${user.name != null and !#strings.isEmpty(user.name) ? #strings.substring(user.name,0,1) : 'U'}">U</div>
                        <div>
                            <div class="text-sm font-bold text-gray-900" th:text="${user.name ?: 'Unknown User'}">Name</div>
                            <div class="text-[11px] text-gray-500" th:text="${user.email ?: 'No Email'}">Email</div>
                        </div>
                    </a>
                </td>
                <td class="px-8 py-5">
                    <span class="text-[14px] font-black uppercase px-3 py-1 rounded-full bg-slate-100 text-slate-600"
                          th:text="${user.role ?: 'MEMBER'}">ROLE</span>
                </td>
                <td class="px-8 py-5">
                    <span th:classappend="${user.status != null and (user.status.toString() == 'Active' or user.status.toString() == 'ACTIVE') ? 'bg-green-100 text-green-600' : (user.status != null and user.status.toString() == 'Overdue' ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-600')}"
                          class="text-[14px] font-black uppercase px-3 py-1 rounded-full"
                          th:text="${user.status ?: 'Inactive'}">STATUS</span>
                </td>
                <td class="px-8 py-5">
                    <a th:href="@{'/members/' + ${user.id}}" class="text-blue-600 hover:text-blue-700 font-semibold text-sm">View</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>